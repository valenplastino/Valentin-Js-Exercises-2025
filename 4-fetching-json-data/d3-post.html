<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>D3 POST Request Example</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
  </head>
  <body>
    <h1>D3 POST Request Example</h1>
    <p>Sending POST request to <code>https://httpbin.org/post</code>...</p>

    <h2>Response:</h2>
    <pre id="response-box">Waiting for response...</pre>

    <script>
      const url = "https://httpbin.org/post";

      const postData = {
        name: "Waldo Ma",
        email: "waldo@example.com",
        age: 75
      };

      d3.json(url, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(postData)
      })
      .then(response => {
        console.log("SUCCESS!");
        console.log("Response:", response);
        document.getElementById("response-box").textContent =
          JSON.stringify(response, null, 2);
      })
      .catch(error => {
        console.error("Error in POST request:", error);
        document.getElementById("response-box").textContent =
          "Error: " + error.message;
      });
    </script>
  </body>
</html>